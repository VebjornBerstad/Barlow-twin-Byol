schema: '2.0'
stages:
  fetch_audioset:
    cmd: ' python -m swarm.fetch_audioset --kaggle_dataset zfturbo/audioset --temp_dir
      ./temp/ --data_dir ./datasets/ '
    deps:
    - path: src/swarm/fetch_audioset.py
      md5: 573b5d7c464e90c1cfee579fc092ecdc
      size: 1170
  fetch_gtzan:
    cmd: ' python -m swarm.fetch_kaggle_dataset --kaggle_dataset andradaolteanu/gtzan-dataset-music-genre-classification
      --temp_dir ./temp/gtzan/ --output_dir ./temp/gtzan_wavs/ --unzip True && python
      -m swarm.preprocess_gtzan --input_dir ./temp/gtzan_wavs/ --output_dir_train
      ./datasets/gtzan_train_mel_split/ --output_dir_val ./datasets/gtzan_val_mel_split/
      && rm -r ./temp/gtzan_wavs/ && rm -r ./temp/gtzan/ '
    deps:
    - path: src/swarm/fetch_kaggle_dataset.py
      md5: af56b495259ffe90711eab09b2c02220
      size: 2032
    - path: src/swarm/preprocess_audio.py
      md5: 8788ef282ffb37c052ca2513b9fe15db
      size: 2868
    - path: src/swarm/preprocess_gtzan.py
      md5: de701710daff5add829bfe2005fe2ced
      size: 4516
    outs:
    - path: ./datasets/gtzan_train_mel_split/
      md5: f0a0b953017edcfaef3068a137deebfd.dir
      size: 614026016
      nfiles: 2389
    - path: ./datasets/gtzan_val_mel_split/
      md5: eb67d22808e9fa2de92fb269a2dde142.dir
      size: 153956296
      nfiles: 599
  fetch_audioset_train:
    cmd: ' python -m swarm.fetch_kaggle_dataset --kaggle_dataset zfturbo/audioset
      --temp_dir ./temp/audioset_train/ --data_dir ./datasets/audioset_train/ '
    deps:
    - path: src/swarm/fetch_kaggle_dataset.py
      md5: 310cfa786beb7e6046fcfaa0246dc5fa
      size: 1420
